<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
	#progressBox{
		width: 300px;
		height: 50px;
		border: 1px solid #ccc;
		position: relative;
		text-align: center;
		line-height: 50px;
	}
	#progressBar{
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		height: 50px;
		color:#fff;
		z-index: 2;
		background-color:blue;
		clip:rect(0px 0px 50px 0px);
	}
	#progressText{
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		height: 50px;
		color:black;
		z-index: 1;
	}
	</style>
</head>
<body>
<div id="progressBox">
	<div id="progressBar">0%</div>
	<div id="progressText">0%</div>
</div>
<input id="gopro" type="button" value="加载">
<script type="text/javascript">
	var gopro = document.getElementById("gopro");
	gopro.onclick = function(){
		var iNew = 0;
		var timer = null;
		timer = setInterval(function(){
			if(iNew==100){
				clearInterval(timer);
			}else{
				iNew += 6.9;
				iNew=parseInt(iNew);
				iNew>100?iNew=100:iNew;
				pro(iNew);
			}
		},30)
	}
	function pro(iCur){
		var progressBox = document.getElementById("progressBox");
		var progressBar = document.getElementById("progressBar");
		var progressText = document.getElementById("progressText");
		var allWidth = parseInt(getStyle(progressBox,"width"));
		progressBar.innerHTML = iCur + "%";
		progressText.innerHTML = iCur + "%";
		progressBar.style.clip = "rect(0px "+(iCur/100)*allWidth+"px 50px 0px)";
		function getStyle(obj,attr){
		if(obj.currentStyle){
				return obj.currentStyle[attr];
			}else{
				return getComputedStyle(obj,false)[attr];
			}
		}

	}

</script>
</body>
</html>